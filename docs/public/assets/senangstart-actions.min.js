var SenangStart=function(){"use strict";const e={attributes:{},structurals:{},scopes:{}};function t(t,s){e.attributes[t]=s}function s(t,s){e.structurals[t]=s}function n(t,s){e.scopes[t]=s}function r(){return e.attributes}function o(t){return e.structurals[t]}function a(){return e.scopes}var i=Object.freeze({__proto__:null,getAttributeHandlers:r,getScopeHandler:function(t){return e.scopes[t]},getScopeHandlers:a,getStructuralHandler:o,registerAttribute:t,registerScope:n,registerStructural:s});const c=["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"];let l=!1;const u=new Set;let d=null;function f(e,t,s){return new Proxy(e,{get(e,n){!d||"length"!==n&&isNaN(parseInt(n))||(s.has("__array__")||s.set("__array__",new Set),s.get("__array__").add(d));const r=e[n];return c.includes(n)&&"function"==typeof r?function(...r){const o=Array.prototype[n].apply(e,r);return s.has("__array__")&&s.get("__array__").forEach(e=>{u.add(e)}),_(t),o}:r&&"object"==typeof r?Array.isArray(r)?f(r,t,s):y(r,t,s):r},set:(e,n,r)=>(e[n]===r||(e[n]=r,s.has("__array__")&&s.get("__array__").forEach(e=>{u.add(e)}),_(t)),!0)})}function y(e,t,s){const n=new Proxy(e,{get(e,r){if("__subscribers"===r||"__isReactive"===r)return e[r];d&&(s.has(r)||s.set(r,new Set),s.get(r).add(d));const o=e[r];if("function"==typeof o)return o.bind(n);if(o&&"object"==typeof o){if(Array.isArray(o))return f(o,t,s);if(!o.__isReactive)return y(o,t,s)}return o},set:(e,n,r)=>(e[n]===r||(e[n]=r,s.has(n)&&s.get(n).forEach(e=>{u.add(e)}),_(t)),!0),deleteProperty:(e,n)=>(delete e[n],s.has(n)&&s.get(n).forEach(e=>{u.add(e)}),_(t),!0),ownKeys:e=>Reflect.ownKeys(e).filter(e=>"__subscribers"!==e&&"__isReactive"!==e)});return n}function p(e,t){const s=new Map;let n;return n=Array.isArray(e)?f(e,t,s):y(e,t,s),n.__subscribers=s,n.__isReactive=!0,n}function m(e){d=e;try{e()}finally{d=null}}function _(e){l||(l=!0,queueMicrotask(()=>{l=!1;const t=[...u];u.clear(),t.forEach(e=>{try{m(e)}catch(e){console.error("[SenangStart] Effect error:",e)}}),e&&e()}))}var h=Object.freeze({__proto__:null,createReactive:p,get currentEffect(){return d},pendingEffects:u,runEffect:m,scheduleUpdate:_});function b(e,t=null){if(1!==e.nodeType)return;if(e.hasAttribute("ss-ignore"))return;let s=t;const n=a();for(const[r,o]of Object.entries(n))if(e.hasAttribute(r)){const n=e.getAttribute(r);s=o(e,n,s,t)}if(s!==t&&s&&(e.__ssScope=s),!s)return void Array.from(e.children).forEach(e=>b(e,null));e.tagName;const i=Array.from(e.attributes);for(const t of i){const n=o(t.name);if(n)return void n(e,t.value,s,b)}const c=r();for(const t of Array.from(e.attributes)){const n=t.name,r=t.value;if(c[n]){c[n](e,r,s);continue}const o=n.indexOf(":");if(o>-1){const t=n.substring(0,o);c[t]&&c[t](e,n,r,s)}}Array.from(e.children).forEach(e=>b(e,s))}let v={},g={};function $(e){return v[e]}function w(){return g}var S=Object.freeze({__proto__:null,getDataFactory:$,getGlobalStores:w,getStore:function(e){return g[e]},setReferences:function(e,t){v=e,g=t},walk:b});function E(){const e=new MutationObserver(e=>{for(const t of e)for(const e of t.addedNodes)if(1===e.nodeType){if(e.__ssScope)return;let t=e,s=null;for(;t.parentElement;)if(t=t.parentElement,t.__ssScope){s=t.__ssScope;break}b(e,s)}});return e.observe(document.body,{childList:!0,subtree:!0}),e}const{createReactive:A}=h,{walk:L,setReferences:k}=S,j={},N={};k(j,N);const R={data(e,t){return"function"!=typeof t?(console.error("[SenangStart] data() requires a factory function"),this):(j[e]=t,this)},store(e,t){return"object"!=typeof t?(console.error("[SenangStart] store() requires an object"),this):(N[e]=A(t,()=>{}),this)},init(e=document.body){return L(e,null),this},start(){return this.isStarted||(this.isStarted=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.init(),E()}):(this.init(),E())),this},version:"0.1.0",internals:{registry:i,reactive:h,walker:S}};function C(e,t,s){const{data:n,$refs:r,$store:o}=t,a={$data:n,$store:o,$el:s,$my:s,$refs:r,$dispatch:(e,t={})=>{s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}))},$watch:(e,t)=>{const s=()=>{const s=n[e];t(s)};n.__subscribers&&(n.__subscribers.has(e)||n.__subscribers.set(e,new Set),n.__subscribers.get(e).add(s))},$nextTick:e=>{queueMicrotask(e)},$id:(e,s)=>{if(t.$idRoots&&t.$idRoots[e])return`${e}-${t.$idRoots[e]}${s?`-${s}`:""}`}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const t=new Function(...i,...c,`with(this) { return (${e}); }`);return function(){const e=i.map(e=>n[e]),s=c.map(e=>a[e]);return t.call(n,...e,...s)}}catch(t){return console.error(`[SenangStart] Failed to parse expression: ${e}`,t),()=>{}}}function x(e,t,s){const{data:n,$refs:r,$store:o}=t,a={$data:n,$store:o,$el:s,$my:s,$refs:r,$dispatch:(e,t={})=>{s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}))},$watch:(e,t)=>{n.__subscribers&&(n.__subscribers.has(e)||n.__subscribers.set(e,new Set),n.__subscribers.get(e).add(()=>t(n[e])))},$nextTick:e=>{queueMicrotask(e)}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const t=new Function(...i,...c,`with(this) { ${e} }`);return function(){const e=i.map(e=>n[e]),s=c.map(e=>a[e]);return t.call(n,...e,...s)}}catch(t){return console.error(`[SenangStart] Failed to parse expression: ${e}`,t),()=>{}}}function O(e,t,s){const n=function(e){const t={enter:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1},leave:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1}};return Array.from(e.attributes).forEach(e=>{if(!e.name.startsWith("ss-transition"))return;const s=e.name.split("."),n=s[0];let r="both";if("ss-transition:enter"===n)r="enter";else if("ss-transition:leave"===n)r="leave";else if("ss-transition"!==n)return;const o=s.slice(1),a=e=>{const s=t[e];for(let e=0;e<o.length;e++){const t=o[e],n=o[e+1];"duration"===t&&n?(s.duration=parseInt(n.replace("ms","")),e++):"delay"===t&&n?(s.delay=parseInt(n.replace("ms","")),e++):"opacity"===t&&n?(s.opacity=parseInt(n)/100,e++):"scale"===t&&n?(s.scale=parseInt(n)/100,e++):"easing"===t&&n&&(s.easing=n,e++)}};"both"===r?(a("enter"),a("leave")):a(r)}),t}(e);if(t){e.style.display=s,e.style.transition="none";const{duration:t,delay:r,easing:o,opacity:a,scale:i}=n.enter,c=()=>{e.style.transitionProperty="opacity, transform",e.style.transitionDuration=`${t}ms`,e.style.transitionTimingFunction=o,e.style.transitionDelay=`${r}ms`};a<1&&(e.style.opacity=0),i<1&&(e.style.transform=`scale(${i})`),e.classList.add("ss-enter-from"),e.classList.add("ss-enter-active"),e.offsetHeight,requestAnimationFrame(()=>{c(),e.classList.remove("ss-enter-from"),e.classList.add("ss-enter-to"),a<1&&(e.style.opacity=1),i<1&&(e.style.transform="scale(1)")});const l=()=>{e.classList.remove("ss-enter-active","ss-enter-to"),e.style.transition="",e.style.transitionProperty="",e.style.transitionDuration="",e.style.transitionTimingFunction="",e.style.transitionDelay="",e.style.opacity="",e.style.transform="",e.removeEventListener("transitionend",l)};e.addEventListener("transitionend",l)}else{e.classList.add("ss-leave-from"),e.classList.add("ss-leave-active"),e.style.transition="none";const{duration:t,delay:s,easing:r,opacity:o,scale:a}=n.leave,i=()=>{e.style.transitionProperty="opacity, transform",e.style.transitionDuration=`${t}ms`,e.style.transitionTimingFunction=r,e.style.transitionDelay=`${s}ms`};e.offsetHeight,requestAnimationFrame(()=>{i(),e.classList.remove("ss-leave-from"),e.classList.add("ss-leave-to"),o<1&&(e.style.opacity=0),a<1&&(e.style.transform=`scale(${a})`)});const c=()=>{e.style.display="none",e.classList.remove("ss-leave-active","ss-leave-to"),e.style.transition="",e.style.transitionProperty="",e.style.opacity="",e.style.transform="",e.removeEventListener("transitionend",c)};e.addEventListener("transitionend",c)}}return t("ss-text",(e,t,s)=>{m(()=>{const n=C(t,s,e);e.innerText=n()??""})}),t("ss-html",(e,t,s)=>{m(()=>{const n=C(t,s,e);e.innerHTML=n()??""})}),t("ss-show",(e,t,s)=>{const n=e.style.display||"";m(()=>{const r=!!C(t,s,e)();Array.from(e.attributes).some(e=>e.name.startsWith("ss-transition"))?O(e,r,n):e.style.display=r?n:"none"})}),t("ss-model",(e,t,s)=>{const{data:n}=s,r="checkbox"===e.type,o="radio"===e.type;e.tagName,m(()=>{const n=C(t,s,e)();r?e.checked=!!n:o?e.checked=e.value===n:e.value=n??""});const a=r||o?"change":"input";e.addEventListener(a,()=>{let s;if(r)s=e.checked;else if(o){if(!e.checked)return;s=e.value}else s=e.value;n[t]=s})}),t("ss-ref",(e,t,s)=>{s.$refs[t]=e}),t("ss-init",(e,t,s)=>{x(t,s,e)()}),t("ss-effect",(e,t,s)=>{m(()=>{x(t,s,e)()})}),n("ss-data",(e,t,s,n)=>{let r={};if(t=t.trim()){const e=$(t);if(e)r=e();else try{r=new Function(`return (${t})`)()}catch(e){console.error("[SenangStart] Failed to parse ss-data:",t,e)}}return{data:p(r,()=>{}),$refs:{},$store:w()}}),n("ss-id",(e,t,s,n)=>{const r=t.trim()||"default",o=r.startsWith("[")?new Function(`return ${r}`)():[r];let a=s;return a=s?{...s}:n?{...n}:{data:{},$refs:{},$store:w()},a.$idRoots||(a.$idRoots={}),(Array.isArray(o)?o:[o]).forEach(e=>{if(!a.$idRoots[e]){window.__ssIdCounts||(window.__ssIdCounts={}),window.__ssIdCounts[e]||(window.__ssIdCounts[e]=0);const t=++window.__ssIdCounts[e];a.$idRoots[e]=t}}),a}),s("ss-for",(e,t,s,n)=>{const r=t.match(/^\s*(?:\(([^,]+),\s*([^)]+)\)|([^\s]+))\s+in\s+(.+)$/);if(!r)return console.error("[SenangStart] Invalid ss-for expression:",t),!1;const o=(r[1]||r[3]).trim(),a=(r[2]||"index").trim(),i=r[4],c=e.parentNode,l=document.createComment(`ss-for: ${t}`);c.insertBefore(l,e),e.remove();let u=[],d="";return m(()=>{const t=C(i,s,e)()||[],r=JSON.stringify(t);r!==d&&(d=r,u.forEach(e=>e.remove()),u=[],t.forEach((t,r)=>{const i=e.content.cloneNode(!0),d=Array.from(i.childNodes).filter(e=>1===e.nodeType),f={data:p({...s.data,[o]:t,[a]:r},()=>{}),$refs:s.$refs,$store:s.$store,parentData:s.data};d.forEach(e=>{c.insertBefore(e,l),u.push(e),e.__ssScope=f,n&&n(e,f)})}))}),!0}),s("ss-if",(e,t,s,n)=>{const r=e.parentNode,o=document.createComment(`ss-if: ${t}`);r.insertBefore(o,e),e.remove();let a=[];return m(()=>{const i=!!C(t,s,e)();if(a.forEach(e=>e.remove()),a=[],i){const t=e.content.cloneNode(!0);Array.from(t.childNodes).filter(e=>1===e.nodeType).forEach(e=>{r.insertBefore(e,o),a.push(e),n&&n(e,s)})}}),!0}),s("ss-teleport",(e,t,s,n)=>{const r=t;let o=document.querySelector(r);const a=document.createComment(`ss-teleport: ${r}`);if(e.parentNode.insertBefore(a,e),e.remove(),!o)return console.warn(`[SenangStart] ss-teleport target not found: ${r}`),!0;const i=e.content.cloneNode(!0);return Array.from(i.childNodes).filter(e=>1===e.nodeType).forEach(e=>{o.appendChild(e),n&&n(e,s)}),!0}),t("ss-bind",(e,t,s,n)=>{const r=t.replace("ss-bind:","");m(()=>{const t=C(s,n,e)();"class"===r?"string"==typeof t?e.className=t:"object"==typeof t&&Object.entries(t).forEach(([t,s])=>{e.classList.toggle(t,!!s)}):"style"===r?"string"==typeof t?e.style.cssText=t:"object"==typeof t&&Object.assign(e.style,t):!1===t||null==t?e.removeAttribute(r):!0===t?e.setAttribute(r,""):e.setAttribute(r,t)})}),t("ss-on",(e,t,s,n)=>{const r=t.replace("ss-on:","").split("."),o=r[0],a=r.slice(1),i=x(s,n,e),c=t=>{if(a.includes("prevent")&&t.preventDefault(),a.includes("stop")&&t.stopPropagation(),!a.includes("self")||t.target===e){if(a.includes("once")&&e.removeEventListener(o,c),t instanceof KeyboardEvent){const e=t.key.toLowerCase(),s=["enter","escape","tab","space","up","down","left","right"];if(a.some(e=>s.includes(e))){const t={enter:"enter",escape:"escape",tab:"tab",space:" ",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};if(!a.some(s=>t[s]===e))return}}n.data.$event=t,i(),delete n.data.$event}};a.includes("window")?window.addEventListener(o,c):a.includes("document")?document.addEventListener(o,c):e.addEventListener(o,c)}),function(){if("undefined"!=typeof document){const e=document.createElement("style");e.textContent="[ss-cloak] { display: none !important; }",document.head.appendChild(e)}t("ss-cloak",(e,t,s)=>{e.removeAttribute("ss-cloak")})}
/**
     * SenangStart Actions v0.1.0
     * Declarative UI framework for humans and AI agents
     * 
     * @license MIT
     * @author Bookklik
     * @module senangstart-actions
     */(),"undefined"!=typeof window&&(window.SenangStart=R),R.start(),R}();
