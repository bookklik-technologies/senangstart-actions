var SenangStart=function(){"use strict";const t=["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"];let e=!1;const s=new Set;let n=null;function r(e,a,i){return new Proxy(e,{get(e,l){!n||"length"!==l&&isNaN(parseInt(l))||(i.has("__array__")||i.set("__array__",new Set),i.get("__array__").add(n));const d=e[l];return t.includes(l)&&"function"==typeof d?function(...t){const n=Array.prototype[l].apply(e,t);return i.has("__array__")&&i.get("__array__").forEach(t=>{s.add(t)}),c(a),n}:d&&"object"==typeof d?Array.isArray(d)?r(d,a,i):o(d,a,i):d},set:(t,e,n)=>(t[e]===n||(t[e]=n,i.has("__array__")&&i.get("__array__").forEach(t=>{s.add(t)}),c(a)),!0)})}function o(t,e,a){const i=new Proxy(t,{get(t,s){if("__subscribers"===s||"__isReactive"===s)return t[s];n&&(a.has(s)||a.set(s,new Set),a.get(s).add(n));const c=t[s];if("function"==typeof c)return c.bind(i);if(c&&"object"==typeof c){if(Array.isArray(c))return r(c,e,a);if(!c.__isReactive)return o(c,e,a)}return c},set:(t,n,r)=>(t[n]===r||(t[n]=r,a.has(n)&&a.get(n).forEach(t=>{s.add(t)}),c(e)),!0),deleteProperty:(t,n)=>(delete t[n],a.has(n)&&a.get(n).forEach(t=>{s.add(t)}),c(e),!0),ownKeys:t=>Reflect.ownKeys(t).filter(t=>"__subscribers"!==t&&"__isReactive"!==t)});return i}function a(t,e){const s=new Map;let n;return n=Array.isArray(t)?r(t,e,s):o(t,e,s),n.__subscribers=s,n.__isReactive=!0,n}function i(t){n=t;try{t()}finally{n=null}}function c(t){e||(e=!0,queueMicrotask(()=>{e=!1;const n=[...s];s.clear(),n.forEach(t=>{try{i(t)}catch(t){console.error("[SenangStart] Effect error:",t)}}),t&&t()}))}const l={attributes:{},structurals:{},scopes:{}};function d(t,e){l.attributes[t]=e}function u(t,e){l.structurals[t]=e}function f(t,e){l.scopes[t]=e}function y(t){return l.structurals[t]}function p(t,e=null){if(1!==t.nodeType)return;if(t.hasAttribute("ss-ignore"))return;let s=e;const n=l.scopes;for(const[r,o]of Object.entries(n))if(t.hasAttribute(r)){const n=t.getAttribute(r);s=o(t,n,s,e)}if(s!==e&&s&&(t.__ssScope=s),!s)return void Array.from(t.children).forEach(t=>p(t,null));t.tagName;const r=Array.from(t.attributes);for(const e of r){const n=y(e.name);if(n)return void n(t,e.value,s,p)}const o=l.attributes;for(const e of Array.from(t.attributes)){const n=e.name,r=e.value;if(o[n]){o[n](t,r,s);continue}const a=n.indexOf(":");if(a>-1){const e=n.substring(0,a);o[e]&&o[e](t,n,r,s)}}Array.from(t.children).forEach(t=>p(t,s))}let m={},h={};function b(){return h}function _(){const t=new MutationObserver(t=>{for(const e of t)for(const t of e.addedNodes)if(1===t.nodeType){if(t.__ssScope)return;let e=t,s=null;for(;e.parentElement;)if(e=e.parentElement,e.__ssScope){s=e.__ssScope;break}p(t,s)}});return t.observe(document.body,{childList:!0,subtree:!0}),t}const v={},$={};m=v,h=$;const g={data(t,e){return"function"!=typeof e?(console.error("[SenangStart] data() requires a factory function"),this):(v[t]=e,this)},store(t,e){return"object"!=typeof e?(console.error("[SenangStart] store() requires an object"),this):($[t]=a(e,()=>{}),this)},init(t=document.body){return p(t,null),this},start(){return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.init(),_()}):(this.init(),_()),this},version:"0.1.0"};function w(t,e,s){const{data:n,$refs:r,$store:o}=e,a={$data:n,$store:o,$el:s,$my:s,$refs:r,$dispatch:(t,e={})=>{s.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))},$watch:(t,e)=>{const s=()=>{const s=n[t];e(s)};n.__subscribers&&(n.__subscribers.has(t)||n.__subscribers.set(t,new Set),n.__subscribers.get(t).add(s))},$nextTick:t=>{queueMicrotask(t)},$id:(t,s)=>{if(e.$idRoots&&e.$idRoots[t])return`${t}-${e.$idRoots[t]}${s?`-${s}`:""}`}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const e=new Function(...i,...c,`with(this) { return (${t}); }`);return function(){const t=i.map(t=>n[t]),s=c.map(t=>a[t]);return e.call(n,...t,...s)}}catch(e){return console.error(`[SenangStart] Failed to parse expression: ${t}`,e),()=>{}}}function E(t,e,s){const{data:n,$refs:r,$store:o}=e,a={$data:n,$store:o,$el:s,$my:s,$refs:r,$dispatch:(t,e={})=>{s.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))},$watch:(t,e)=>{n.__subscribers&&(n.__subscribers.has(t)||n.__subscribers.set(t,new Set),n.__subscribers.get(t).add(()=>e(n[t])))},$nextTick:t=>{queueMicrotask(t)}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const e=new Function(...i,...c,`with(this) { ${t} }`);return function(){const t=i.map(t=>n[t]),s=c.map(t=>a[t]);return e.call(n,...t,...s)}}catch(e){return console.error(`[SenangStart] Failed to parse expression: ${t}`,e),()=>{}}}function S(t,e,s){const n=function(t){const e={enter:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1},leave:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1}};return Array.from(t.attributes).forEach(t=>{if(!t.name.startsWith("ss-transition"))return;const s=t.name.split("."),n=s[0];let r="both";if("ss-transition:enter"===n)r="enter";else if("ss-transition:leave"===n)r="leave";else if("ss-transition"!==n)return;const o=s.slice(1),a=t=>{const s=e[t];for(let t=0;t<o.length;t++){const e=o[t],n=o[t+1];"duration"===e&&n?(s.duration=parseInt(n.replace("ms","")),t++):"delay"===e&&n?(s.delay=parseInt(n.replace("ms","")),t++):"opacity"===e&&n?(s.opacity=parseInt(n)/100,t++):"scale"===e&&n?(s.scale=parseInt(n)/100,t++):"easing"===e&&n&&(s.easing=n,t++)}};"both"===r?(a("enter"),a("leave")):a(r)}),e}(t);if(e){t.style.display=s,t.style.transition="none";const{duration:e,delay:r,easing:o,opacity:a,scale:i}=n.enter,c=()=>{t.style.transitionProperty="opacity, transform",t.style.transitionDuration=`${e}ms`,t.style.transitionTimingFunction=o,t.style.transitionDelay=`${r}ms`};a<1&&(t.style.opacity=0),i<1&&(t.style.transform=`scale(${i})`),t.classList.add("ss-enter-from"),t.classList.add("ss-enter-active"),t.offsetHeight,requestAnimationFrame(()=>{c(),t.classList.remove("ss-enter-from"),t.classList.add("ss-enter-to"),a<1&&(t.style.opacity=1),i<1&&(t.style.transform="scale(1)")});const l=()=>{t.classList.remove("ss-enter-active","ss-enter-to"),t.style.transition="",t.style.transitionProperty="",t.style.transitionDuration="",t.style.transitionTimingFunction="",t.style.transitionDelay="",t.style.opacity="",t.style.transform="",t.removeEventListener("transitionend",l)};t.addEventListener("transitionend",l)}else{t.classList.add("ss-leave-from"),t.classList.add("ss-leave-active"),t.style.transition="none";const{duration:e,delay:s,easing:r,opacity:o,scale:a}=n.leave,i=()=>{t.style.transitionProperty="opacity, transform",t.style.transitionDuration=`${e}ms`,t.style.transitionTimingFunction=r,t.style.transitionDelay=`${s}ms`};t.offsetHeight,requestAnimationFrame(()=>{i(),t.classList.remove("ss-leave-from"),t.classList.add("ss-leave-to"),o<1&&(t.style.opacity=0),a<1&&(t.style.transform=`scale(${a})`)});const c=()=>{t.style.display="none",t.classList.remove("ss-leave-active","ss-leave-to"),t.style.transition="",t.style.transitionProperty="",t.style.opacity="",t.style.transform="",t.removeEventListener("transitionend",c)};t.addEventListener("transitionend",c)}}return d("ss-text",(t,e,s)=>{i(()=>{const n=w(e,s,t);t.innerText=n()??""})}),d("ss-html",(t,e,s)=>{i(()=>{const n=w(e,s,t);t.innerHTML=n()??""})}),d("ss-show",(t,e,s)=>{const n=t.style.display||"";i(()=>{const r=!!w(e,s,t)();Array.from(t.attributes).some(t=>t.name.startsWith("ss-transition"))?S(t,r,n):t.style.display=r?n:"none"})}),d("ss-model",(t,e,s)=>{const{data:n}=s,r="checkbox"===t.type,o="radio"===t.type;t.tagName,i(()=>{const n=w(e,s,t)();r?t.checked=!!n:o?t.checked=t.value===n:t.value=n??""});const a=r||o?"change":"input";t.addEventListener(a,()=>{let s;if(r)s=t.checked;else if(o){if(!t.checked)return;s=t.value}else s=t.value;n[e]=s})}),d("ss-ref",(t,e,s)=>{s.$refs[e]=t}),d("ss-init",(t,e,s)=>{E(e,s,t)()}),d("ss-effect",(t,e,s)=>{i(()=>{E(e,s,t)()})}),f("ss-data",(t,e,s,n)=>{let r={};if(e=e.trim()){const t=m[e];if(t)r=t();else try{r=new Function(`return (${e})`)()}catch(t){console.error("[SenangStart] Failed to parse ss-data:",e,t)}}return{data:a(r,()=>{}),$refs:{},$store:b()}}),f("ss-id",(t,e,s,n)=>{const r=e.trim()||"default",o=r.startsWith("[")?new Function(`return ${r}`)():[r];let a=s;return a=s?{...s}:n?{...n}:{data:{},$refs:{},$store:b()},a.$idRoots||(a.$idRoots={}),(Array.isArray(o)?o:[o]).forEach(t=>{if(!a.$idRoots[t]){window.__ssIdCounts||(window.__ssIdCounts={}),window.__ssIdCounts[t]||(window.__ssIdCounts[t]=0);const e=++window.__ssIdCounts[t];a.$idRoots[t]=e}}),a}),u("ss-for",(t,e,s,n)=>{const r=e.match(/^\s*(?:\(([^,]+),\s*([^)]+)\)|([^\s]+))\s+in\s+(.+)$/);if(!r)return console.error("[SenangStart] Invalid ss-for expression:",e),!1;const o=(r[1]||r[3]).trim(),c=(r[2]||"index").trim(),l=r[4],d=t.parentNode,u=document.createComment(`ss-for: ${e}`);d.insertBefore(u,t),t.remove();let f=[],y="";return i(()=>{const e=w(l,s,t)()||[],r=JSON.stringify(e);r!==y&&(y=r,f.forEach(t=>t.remove()),f=[],e.forEach((e,r)=>{const i=t.content.cloneNode(!0),l=Array.from(i.childNodes).filter(t=>1===t.nodeType),y={data:a({...s.data,[o]:e,[c]:r},()=>{}),$refs:s.$refs,$store:s.$store,parentData:s.data};l.forEach(t=>{d.insertBefore(t,u),f.push(t),t.__ssScope=y,n&&n(t,y)})}))}),!0}),u("ss-if",(t,e,s,n)=>{const r=t.parentNode,o=document.createComment(`ss-if: ${e}`);r.insertBefore(o,t),t.remove();let a=[];return i(()=>{const i=!!w(e,s,t)();if(a.forEach(t=>t.remove()),a=[],i){const e=t.content.cloneNode(!0);Array.from(e.childNodes).filter(t=>1===t.nodeType).forEach(t=>{r.insertBefore(t,o),a.push(t),n&&n(t,s)})}}),!0}),u("ss-teleport",(t,e,s,n)=>{const r=e;let o=document.querySelector(r);const a=document.createComment(`ss-teleport: ${r}`);if(t.parentNode.insertBefore(a,t),t.remove(),!o)return console.warn(`[SenangStart] ss-teleport target not found: ${r}`),!0;const i=t.content.cloneNode(!0);return Array.from(i.childNodes).filter(t=>1===t.nodeType).forEach(t=>{o.appendChild(t),n&&n(t,s)}),!0}),d("ss-bind",(t,e,s,n)=>{const r=e.replace("ss-bind:","");i(()=>{const e=w(s,n,t)();"class"===r?"string"==typeof e?t.className=e:"object"==typeof e&&Object.entries(e).forEach(([e,s])=>{t.classList.toggle(e,!!s)}):"style"===r?"string"==typeof e?t.style.cssText=e:"object"==typeof e&&Object.assign(t.style,e):!1===e||null==e?t.removeAttribute(r):!0===e?t.setAttribute(r,""):t.setAttribute(r,e)})}),d("ss-on",(t,e,s,n)=>{const r=e.replace("ss-on:","").split("."),o=r[0],a=r.slice(1),i=E(s,n,t),c=e=>{if(a.includes("prevent")&&e.preventDefault(),a.includes("stop")&&e.stopPropagation(),!a.includes("self")||e.target===t){if(a.includes("once")&&t.removeEventListener(o,c),e instanceof KeyboardEvent){const t=e.key.toLowerCase(),s=["enter","escape","tab","space","up","down","left","right"];if(a.some(t=>s.includes(t))){const e={enter:"enter",escape:"escape",tab:"tab",space:" ",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};if(!a.some(s=>e[s]===t))return}}n.data.$event=e,i(),delete n.data.$event}};a.includes("window")?window.addEventListener(o,c):a.includes("document")?document.addEventListener(o,c):t.addEventListener(o,c)}),function(){if("undefined"!=typeof document){const t=document.createElement("style");t.textContent="[ss-cloak] { display: none !important; }",document.head.appendChild(t)}d("ss-cloak",(t,e,s)=>{t.removeAttribute("ss-cloak")})}
/**
     * SenangStart Actions v0.1.0
     * Declarative UI framework for humans and AI agents
     * 
     * @license MIT
     * @author Bookklik
     * @module senangstart-actions
     */(),"undefined"!=typeof window&&(window.SenangStart=g),g.start(),g}();
