var SenangStart=function(){"use strict";const e=["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"];let t=!1;const s=new Set;let r=null;function n(t,a,i){return new Proxy(t,{get(t,d){!r||"length"!==d&&isNaN(parseInt(d))||(i.has("__array__")||i.set("__array__",new Set),i.get("__array__").add(r));const l=t[d];return e.includes(d)&&"function"==typeof l?function(...e){const r=Array.prototype[d].apply(t,e);return i.has("__array__")&&i.get("__array__").forEach(e=>{s.add(e)}),c(a),r}:l&&"object"==typeof l?Array.isArray(l)?n(l,a,i):o(l,a,i):l},set:(e,t,r)=>(e[t]===r||(e[t]=r,i.has("__array__")&&i.get("__array__").forEach(e=>{s.add(e)}),c(a)),!0)})}function o(e,t,a){const i=new Proxy(e,{get(e,s){if("__subscribers"===s||"__isReactive"===s)return e[s];r&&(a.has(s)||a.set(s,new Set),a.get(s).add(r));const c=e[s];if("function"==typeof c)return c.bind(i);if(c&&"object"==typeof c){if(Array.isArray(c))return n(c,t,a);if(!c.__isReactive)return o(c,t,a)}return c},set:(e,r,n)=>(e[r]===n||(e[r]=n,a.has(r)&&a.get(r).forEach(e=>{s.add(e)}),c(t)),!0),deleteProperty:(e,r)=>(delete e[r],a.has(r)&&a.get(r).forEach(e=>{s.add(e)}),c(t),!0)});return i}function a(e,t){const s=new Map;let r;return r=Array.isArray(e)?n(e,t,s):o(e,t,s),r.__subscribers=s,r.__isReactive=!0,r}function i(e){r=e;try{e()}finally{r=null}}function c(e){t||(t=!0,queueMicrotask(()=>{t=!1;const r=[...s];s.clear(),r.forEach(e=>{try{i(e)}catch(e){console.error("[SenangStart] Effect error:",e)}}),e&&e()}))}function d(e,t,s){const{data:r,$refs:n,$store:o}=t,a={$data:r,$store:o,$el:s,$my:s,$refs:n,$dispatch:(e,t={})=>{s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}))},$watch:(e,t)=>{const s=()=>{const s=r[e];t(s)};r.__subscribers&&(r.__subscribers.has(e)||r.__subscribers.set(e,new Set),r.__subscribers.get(e).add(s))},$nextTick:e=>{queueMicrotask(e)}},i=Object.keys("object"==typeof r&&null!==r?r:{}),c=Object.keys(a);try{const t=new Function(...i,...c,`with(this) { return (${e}); }`);return function(){const e=i.map(e=>r[e]),s=c.map(e=>a[e]);return t.call(r,...e,...s)}}catch(t){return console.error(`[SenangStart] Failed to parse expression: ${e}`,t),()=>{}}}function l(e,t,s){const{data:r,$refs:n,$store:o}=t,a={$data:r,$store:o,$el:s,$my:s,$refs:n,$dispatch:(e,t={})=>{s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}))},$watch:(e,t)=>{r.__subscribers&&(r.__subscribers.has(e)||r.__subscribers.set(e,new Set),r.__subscribers.get(e).add(()=>t(r[e])))},$nextTick:e=>{queueMicrotask(e)}},i=Object.keys("object"==typeof r&&null!==r?r:{}),c=Object.keys(a);try{const t=new Function(...i,...c,`with(this) { ${e} }`);return function(){const e=i.map(e=>r[e]),s=c.map(e=>a[e]);return t.call(r,...e,...s)}}catch(t){return console.error(`[SenangStart] Failed to parse expression: ${e}`,t),()=>{}}}const u={"ss-text":(e,t,s)=>{i(()=>{const r=d(t,s,e);e.innerText=r()??""})},"ss-html":(e,t,s)=>{i(()=>{const r=d(t,s,e);e.innerHTML=r()??""})},"ss-show":(e,t,s)=>{const r=e.style.display||"";i(()=>{const n=!!d(t,s,e)();e.hasAttribute("ss-transition")?function(e,t,s){if(t){e.classList.add("ss-enter-from"),e.classList.add("ss-enter-active"),e.style.display=s,requestAnimationFrame(()=>{e.classList.remove("ss-enter-from"),e.classList.add("ss-enter-to")});const t=()=>{e.classList.remove("ss-enter-active","ss-enter-to"),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)}else{e.classList.add("ss-leave-from"),e.classList.add("ss-leave-active"),requestAnimationFrame(()=>{e.classList.remove("ss-leave-from"),e.classList.add("ss-leave-to")});const t=()=>{e.style.display="none",e.classList.remove("ss-leave-active","ss-leave-to"),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)}}(e,n,r):e.style.display=n?r:"none"})},"ss-model":(e,t,s)=>{const{data:r}=s,n="checkbox"===e.type,o="radio"===e.type;e.tagName;i(()=>{const r=d(t,s,e)();n?e.checked=!!r:o?e.checked=e.value===r:e.value=r??""});const a=n||o?"change":"input";e.addEventListener(a,()=>{let s;if(n)s=e.checked;else if(o){if(!e.checked)return;s=e.value}else s=e.value;r[t]=s})},"ss-ref":(e,t,s)=>{s.$refs[t]=e},"ss-init":(e,t,s)=>{l(t,s,e)()},"ss-effect":(e,t,s)=>{i(()=>{l(t,s,e)()})}};function f(e,t,s,r){const n=t.replace("ss-bind:","");i(()=>{const t=d(s,r,e)();"class"===n?"string"==typeof t?e.className=t:"object"==typeof t&&Object.entries(t).forEach(([t,s])=>{e.classList.toggle(t,!!s)}):"style"===n?"string"==typeof t?e.style.cssText=t:"object"==typeof t&&Object.assign(e.style,t):!1===t||null==t?e.removeAttribute(n):!0===t?e.setAttribute(n,""):e.setAttribute(n,t)})}function p(e,t,s,r){const n=t.replace("ss-on:","").split("."),o=n[0],a=n.slice(1),i=l(s,r,e),c=t=>{if(a.includes("prevent")&&t.preventDefault(),a.includes("stop")&&t.stopPropagation(),!a.includes("self")||t.target===e){if(a.includes("once")&&e.removeEventListener(o,c),t instanceof KeyboardEvent){const e=t.key.toLowerCase(),s=["enter","escape","tab","space","up","down","left","right"];if(a.some(e=>s.includes(e))){const t={enter:"enter",escape:"escape",tab:"tab",space:" ",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};if(!a.some(s=>t[s]===e))return}}r.data.$event=t,i(),delete r.data.$event}};a.includes("window")?window.addEventListener(o,c):a.includes("document")?document.addEventListener(o,c):e.addEventListener(o,c)}let h=null;let y={},b={};function m(e,t=null){if(1!==e.nodeType)return;if(e.hasAttribute("ss-ignore"))return;let s=t;if(e.hasAttribute("ss-data")){const t=e.getAttribute("ss-data").trim();let r={};if(t)if(y[t])r=y[t]();else try{r=new Function(`return (${t})`)()}catch(e){console.error("[SenangStart] Failed to parse ss-data:",t,e)}s={data:a(r,()=>{}),$refs:{},$store:b},e.__ssScope=s}if(!s)return void Array.from(e.children).forEach(e=>m(e,null));if("TEMPLATE"===e.tagName&&e.hasAttribute("ss-for"))return void function(e,t,s){const r=t.match(/^\s*(?:\(([^,]+),\s*([^)]+)\)|([^\s]+))\s+in\s+(.+)$/);if(!r)return void console.error("[SenangStart] Invalid ss-for expression:",t);const n=r[1]||r[3],o=r[2]||"index",c=r[4],l=e.parentNode,u=document.createComment(`ss-for: ${t}`);l.insertBefore(u,e),e.remove();let f=[],p="";i(()=>{const t=d(c,s,e)()||[],r=JSON.stringify(t);r!==p&&(p=r,f.forEach(e=>e.remove()),f=[],t.forEach((t,r)=>{const i=e.content.cloneNode(!0),c=Array.from(i.childNodes).filter(e=>1===e.nodeType),d={data:a({...s.data,[n]:t,[o]:r},()=>{}),$refs:s.$refs,$store:s.$store,parentData:s.data};c.forEach(e=>{l.insertBefore(e,u),f.push(e),h&&h(e,d)})}))})}(e,e.getAttribute("ss-for"),s);if("TEMPLATE"===e.tagName&&e.hasAttribute("ss-if"))return void function(e,t,s){const r=e.parentNode,n=document.createComment(`ss-if: ${t}`);r.insertBefore(n,e),e.remove();let o=[];i(()=>{const a=!!d(t,s,e)();if(o.forEach(e=>e.remove()),o=[],a){const t=e.content.cloneNode(!0);Array.from(t.childNodes).filter(e=>1===e.nodeType).forEach(e=>{r.insertBefore(e,n),o.push(e),h&&h(e,s)})}})}(e,e.getAttribute("ss-if"),s);const r=Array.from(e.attributes);for(const t of r){const r=t.name,n=t.value;"ss-data"!==r&&"ss-describe"!==r&&(u[r]?u[r](e,n,s):r.startsWith("ss-bind:")?f(e,r,n,s):r.startsWith("ss-on:")&&p(e,r,n,s))}e.hasAttribute("ss-cloak")&&e.removeAttribute("ss-cloak"),Array.from(e.children).forEach(e=>m(e,s))}function v(){const e=new MutationObserver(e=>{for(const t of e)for(const e of t.addedNodes)if(1===e.nodeType){let t=e,s=null;for(;t.parentElement;)if(t=t.parentElement,t.__ssScope){s=t.__ssScope;break}m(e,s)}});return e.observe(document.body,{childList:!0,subtree:!0}),e}
/**
     * SenangStart Actions v0.1.0
     * Declarative UI framework for humans and AI agents
     * 
     * @license MIT
     * @author Bookklik
     * @module senangstart-actions
     */h=m;const _=document.createElement("style");_.textContent="[ss-cloak] { display: none !important; }",document.head.appendChild(_);const g={},$={};y=g,b=$;const E={data(e,t){return"function"!=typeof t?(console.error("[SenangStart] data() requires a factory function"),this):(g[e]=t,this)},store(e,t){return"object"!=typeof t?(console.error("[SenangStart] store() requires an object"),this):($[e]=a(t,()=>{}),this)},init(e=document.body){return m(e,null),this},start(){return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.init(),v()}):(this.init(),v()),this},version:"0.1.0"};return"undefined"!=typeof window&&(window.SenangStart=E),E.start(),E}();
