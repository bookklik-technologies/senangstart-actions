var SenangStart=function(){"use strict";const t=["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"];let e=!1;const s=new Set;let n=null;function r(e,a,i){return new Proxy(e,{get(e,l){!n||"length"!==l&&isNaN(parseInt(l))||(i.has("__array__")||i.set("__array__",new Set),i.get("__array__").add(n));const d=e[l];return t.includes(l)&&"function"==typeof d?function(...t){const n=Array.prototype[l].apply(e,t);return i.has("__array__")&&i.get("__array__").forEach(t=>{s.add(t)}),c(a),n}:d&&"object"==typeof d?Array.isArray(d)?r(d,a,i):o(d,a,i):d},set:(t,e,n)=>(t[e]===n||(t[e]=n,i.has("__array__")&&i.get("__array__").forEach(t=>{s.add(t)}),c(a)),!0)})}function o(t,e,a){const i=new Proxy(t,{get(t,s){if("__subscribers"===s||"__isReactive"===s)return t[s];n&&(a.has(s)||a.set(s,new Set),a.get(s).add(n));const c=t[s];if("function"==typeof c)return c.bind(i);if(c&&"object"==typeof c){if(Array.isArray(c))return r(c,e,a);if(!c.__isReactive)return o(c,e,a)}return c},set:(t,n,r)=>(t[n]===r||(t[n]=r,a.has(n)&&a.get(n).forEach(t=>{s.add(t)}),c(e)),!0),deleteProperty:(t,n)=>(delete t[n],a.has(n)&&a.get(n).forEach(t=>{s.add(t)}),c(e),!0),ownKeys:t=>Reflect.ownKeys(t).filter(t=>"__subscribers"!==t&&"__isReactive"!==t)});return i}function a(t,e){const s=new Map;let n;return n=Array.isArray(t)?r(t,e,s):o(t,e,s),n.__subscribers=s,n.__isReactive=!0,n}function i(t){n=t;try{t()}finally{n=null}}function c(t){e||(e=!0,queueMicrotask(()=>{e=!1;const n=[...s];s.clear(),n.forEach(t=>{try{i(t)}catch(t){console.error("[SenangStart] Effect error:",t)}}),t&&t()}))}function l(t,e,s){const{data:n,$refs:r,$store:o}=e,a={$data:n,$store:o,$el:s,$my:s,$refs:r,$dispatch:(t,e={})=>{s.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))},$watch:(t,e)=>{const s=()=>{const s=n[t];e(s)};n.__subscribers&&(n.__subscribers.has(t)||n.__subscribers.set(t,new Set),n.__subscribers.get(t).add(s))},$nextTick:t=>{queueMicrotask(t)},$id:(t,s)=>{if(e.$idRoots&&e.$idRoots[t])return`${t}-${e.$idRoots[t]}${s?`-${s}`:""}`}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const e=new Function(...i,...c,`with(this) { return (${t}); }`);return function(){const t=i.map(t=>n[t]),s=c.map(t=>a[t]);return e.call(n,...t,...s)}}catch(e){return console.error(`[SenangStart] Failed to parse expression: ${t}`,e),()=>{}}}function d(t,e,s){const{data:n,$refs:r,$store:o}=e,a={$data:n,$store:o,$el:s,$my:s,$refs:r,$dispatch:(t,e={})=>{s.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))},$watch:(t,e)=>{n.__subscribers&&(n.__subscribers.has(t)||n.__subscribers.set(t,new Set),n.__subscribers.get(t).add(()=>e(n[t])))},$nextTick:t=>{queueMicrotask(t)}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const e=new Function(...i,...c,`with(this) { ${t} }`);return function(){const t=i.map(t=>n[t]),s=c.map(t=>a[t]);return e.call(n,...t,...s)}}catch(e){return console.error(`[SenangStart] Failed to parse expression: ${t}`,e),()=>{}}}function u(t,e,s){const n=function(t){const e={enter:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1},leave:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1}};return Array.from(t.attributes).forEach(t=>{if(!t.name.startsWith("ss-transition"))return;const s=t.name.split("."),n=s[0];let r="both";if("ss-transition:enter"===n)r="enter";else if("ss-transition:leave"===n)r="leave";else if("ss-transition"!==n)return;const o=s.slice(1),a=t=>{const s=e[t];for(let t=0;t<o.length;t++){const e=o[t],n=o[t+1];"duration"===e&&n?(s.duration=parseInt(n.replace("ms","")),t++):"delay"===e&&n?(s.delay=parseInt(n.replace("ms","")),t++):"opacity"===e&&n?(s.opacity=parseInt(n)/100,t++):"scale"===e&&n?(s.scale=parseInt(n)/100,t++):"easing"===e&&n&&(s.easing=n,t++)}};"both"===r?(a("enter"),a("leave")):a(r)}),e}(t);if(e){t.style.display=s,t.style.transition="none";const{duration:e,delay:r,easing:o,opacity:a,scale:i}=n.enter,c=()=>{t.style.transitionProperty="opacity, transform",t.style.transitionDuration=`${e}ms`,t.style.transitionTimingFunction=o,t.style.transitionDelay=`${r}ms`};a<1&&(t.style.opacity=0),i<1&&(t.style.transform=`scale(${i})`),t.classList.add("ss-enter-from"),t.classList.add("ss-enter-active"),t.offsetHeight,requestAnimationFrame(()=>{c(),t.classList.remove("ss-enter-from"),t.classList.add("ss-enter-to"),a<1&&(t.style.opacity=1),i<1&&(t.style.transform="scale(1)")});const l=()=>{t.classList.remove("ss-enter-active","ss-enter-to"),t.style.transition="",t.style.transitionProperty="",t.style.transitionDuration="",t.style.transitionTimingFunction="",t.style.transitionDelay="",t.style.opacity="",t.style.transform="",t.removeEventListener("transitionend",l)};t.addEventListener("transitionend",l)}else{t.classList.add("ss-leave-from"),t.classList.add("ss-leave-active"),t.style.transition="none";const{duration:e,delay:s,easing:r,opacity:o,scale:a}=n.leave,i=()=>{t.style.transitionProperty="opacity, transform",t.style.transitionDuration=`${e}ms`,t.style.transitionTimingFunction=r,t.style.transitionDelay=`${s}ms`};t.offsetHeight,requestAnimationFrame(()=>{i(),t.classList.remove("ss-leave-from"),t.classList.add("ss-leave-to"),o<1&&(t.style.opacity=0),a<1&&(t.style.transform=`scale(${a})`)});const c=()=>{t.style.display="none",t.classList.remove("ss-leave-active","ss-leave-to"),t.style.transition="",t.style.transitionProperty="",t.style.opacity="",t.style.transform="",t.removeEventListener("transitionend",c)};t.addEventListener("transitionend",c)}}const f={"ss-text":(t,e,s)=>{i(()=>{const n=l(e,s,t);t.innerText=n()??""})},"ss-html":(t,e,s)=>{i(()=>{const n=l(e,s,t);t.innerHTML=n()??""})},"ss-show":(t,e,s)=>{const n=t.style.display||"";i(()=>{const r=!!l(e,s,t)();Array.from(t.attributes).some(t=>t.name.startsWith("ss-transition"))?u(t,r,n):t.style.display=r?n:"none"})},"ss-model":(t,e,s)=>{const{data:n}=s,r="checkbox"===t.type,o="radio"===t.type;t.tagName;i(()=>{const n=l(e,s,t)();r?t.checked=!!n:o?t.checked=t.value===n:t.value=n??""});const a=r||o?"change":"input";t.addEventListener(a,()=>{let s;if(r)s=t.checked;else if(o){if(!t.checked)return;s=t.value}else s=t.value;n[e]=s})},"ss-ref":(t,e,s)=>{s.$refs[e]=t},"ss-init":(t,e,s)=>{d(e,s,t)()},"ss-effect":(t,e,s)=>{i(()=>{d(e,s,t)()})}};function y(t,e,s,n){const r=e.replace("ss-bind:","");i(()=>{const e=l(s,n,t)();"class"===r?"string"==typeof e?t.className=e:"object"==typeof e&&Object.entries(e).forEach(([e,s])=>{t.classList.toggle(e,!!s)}):"style"===r?"string"==typeof e?t.style.cssText=e:"object"==typeof e&&Object.assign(t.style,e):!1===e||null==e?t.removeAttribute(r):!0===e?t.setAttribute(r,""):t.setAttribute(r,e)})}function p(t,e,s,n){const r=e.replace("ss-on:","").split("."),o=r[0],a=r.slice(1),i=d(s,n,t),c=e=>{if(a.includes("prevent")&&e.preventDefault(),a.includes("stop")&&e.stopPropagation(),!a.includes("self")||e.target===t){if(a.includes("once")&&t.removeEventListener(o,c),e instanceof KeyboardEvent){const t=e.key.toLowerCase(),s=["enter","escape","tab","space","up","down","left","right"];if(a.some(t=>s.includes(t))){const e={enter:"enter",escape:"escape",tab:"tab",space:" ",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};if(!a.some(s=>e[s]===t))return}}n.data.$event=e,i(),delete n.data.$event}};a.includes("window")?window.addEventListener(o,c):a.includes("document")?document.addEventListener(o,c):t.addEventListener(o,c)}let m=null;let h={},b={};function _(t,e=null){if(1!==t.nodeType)return;if(t.hasAttribute("ss-ignore"))return;let s=e;if(t.hasAttribute("ss-data")){const e=t.getAttribute("ss-data").trim();let n={};if(e)if(h[e])n=h[e]();else try{n=new Function(`return (${e})`)()}catch(t){console.error("[SenangStart] Failed to parse ss-data:",e,t)}s={data:a(n,()=>{}),$refs:{},$store:b},t.__ssScope=s}if(t.hasAttribute("ss-id")){const n=t.getAttribute("ss-id").trim()||"default",r=n.startsWith("[")?new Function(`return ${n}`)():[n];s=s?{...s}:e?{...e}:{data:{},$refs:{},$store:b},s.$idRoots||(s.$idRoots={}),(Array.isArray(r)?r:[r]).forEach(t=>{if(!s.$idRoots[t]){window.__ssIdCounts||(window.__ssIdCounts={}),window.__ssIdCounts[t]||(window.__ssIdCounts[t]=0);const e=++window.__ssIdCounts[t];s.$idRoots[t]=e}}),t.__ssScope=s}if(!s)return void Array.from(t.children).forEach(t=>_(t,null));if("TEMPLATE"===t.tagName&&t.hasAttribute("ss-for"))return void function(t,e,s){const n=e.match(/^\s*(?:\(([^,]+),\s*([^)]+)\)|([^\s]+))\s+in\s+(.+)$/);if(!n)return void console.error("[SenangStart] Invalid ss-for expression:",e);const r=(n[1]||n[3]).trim(),o=(n[2]||"index").trim(),c=n[4],d=t.parentNode,u=document.createComment(`ss-for: ${e}`);d.insertBefore(u,t),t.remove();let f=[],y="";i(()=>{const e=l(c,s,t)()||[],n=JSON.stringify(e);n!==y&&(y=n,f.forEach(t=>t.remove()),f=[],e.forEach((e,n)=>{const i=t.content.cloneNode(!0),c=Array.from(i.childNodes).filter(t=>1===t.nodeType),l={data:a({...s.data,[r]:e,[o]:n},()=>{}),$refs:s.$refs,$store:s.$store,parentData:s.data};c.forEach(t=>{d.insertBefore(t,u),f.push(t),t.__ssScope=l,m&&m(t,l)})}))})}(t,t.getAttribute("ss-for"),s);if("TEMPLATE"===t.tagName&&t.hasAttribute("ss-if"))return void function(t,e,s){const n=t.parentNode,r=document.createComment(`ss-if: ${e}`);n.insertBefore(r,t),t.remove();let o=[];i(()=>{const a=!!l(e,s,t)();if(o.forEach(t=>t.remove()),o=[],a){const e=t.content.cloneNode(!0);Array.from(e.childNodes).filter(t=>1===t.nodeType).forEach(t=>{n.insertBefore(t,r),o.push(t),m&&m(t,s)})}})}(t,t.getAttribute("ss-if"),s);if("TEMPLATE"===t.tagName&&t.hasAttribute("ss-teleport"))return void function(t,e,s){const n=e;let r=document.querySelector(n);const o=document.createComment(`ss-teleport: ${n}`);if(t.parentNode.insertBefore(o,t),t.remove(),!r)return void console.warn(`[SenangStart] ss-teleport target not found: ${n}`);const a=t.content.cloneNode(!0);Array.from(a.childNodes).filter(t=>1===t.nodeType).forEach(t=>{r.appendChild(t),m&&m(t,s)})}(t,t.getAttribute("ss-teleport"),s);const n=Array.from(t.attributes);for(const e of n){const n=e.name,r=e.value;"ss-data"!==n&&"ss-describe"!==n&&(f[n]?f[n](t,r,s):n.startsWith("ss-bind:")?y(t,n,r,s):n.startsWith("ss-on:")&&p(t,n,r,s))}t.hasAttribute("ss-cloak")&&t.removeAttribute("ss-cloak"),Array.from(t.children).forEach(t=>_(t,s))}function v(){const t=new MutationObserver(t=>{for(const e of t)for(const t of e.addedNodes)if(1===t.nodeType){if(t.__ssScope)return;let e=t,s=null;for(;e.parentElement;)if(e=e.parentElement,e.__ssScope){s=e.__ssScope;break}_(t,s)}});return t.observe(document.body,{childList:!0,subtree:!0}),t}
/**
     * SenangStart Actions v0.1.0
     * Declarative UI framework for humans and AI agents
     * 
     * @license MIT
     * @author Bookklik
     * @module senangstart-actions
     */m=_;const $=document.createElement("style");$.textContent="[ss-cloak] { display: none !important; }",document.head.appendChild($);const g={},w={};h=g,b=w;const E={data(t,e){return"function"!=typeof e?(console.error("[SenangStart] data() requires a factory function"),this):(g[t]=e,this)},store(t,e){return"object"!=typeof e?(console.error("[SenangStart] store() requires an object"),this):(w[t]=a(e,()=>{}),this)},init(t=document.body){return _(t,null),this},start(){return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.init(),v()}):(this.init(),v()),this},version:"0.1.0"};return"undefined"!=typeof window&&(window.SenangStart=E),E.start(),E}();
