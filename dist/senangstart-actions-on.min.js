var SenangStart=function(){"use strict";const e=["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"];let t=!1;const r=new Set;let n=null;function s(t,i,c){return new Proxy(t,{get(t,u){!n||"length"!==u&&isNaN(parseInt(u))||(c.has("__array__")||c.set("__array__",new Set),c.get("__array__").add(n));const f=t[u];return e.includes(u)&&"function"==typeof f?function(...e){const n=Array.prototype[u].apply(t,e);return c.has("__array__")&&c.get("__array__").forEach(e=>{r.add(e)}),a(i),n}:f&&"object"==typeof f?Array.isArray(f)?s(f,i,c):o(f,i,c):f},set:(e,t,n)=>(e[t]===n||(e[t]=n,c.has("__array__")&&c.get("__array__").forEach(e=>{r.add(e)}),a(i)),!0)})}function o(e,t,i){const c=new Proxy(e,{get(e,r){if("__subscribers"===r||"__isReactive"===r)return e[r];n&&(i.has(r)||i.set(r,new Set),i.get(r).add(n));const a=e[r];if("function"==typeof a)return a.bind(c);if(a&&"object"==typeof a){if(Array.isArray(a))return s(a,t,i);if(!a.__isReactive)return o(a,t,i)}return a},set:(e,n,s)=>(e[n]===s||(e[n]=s,i.has(n)&&i.get(n).forEach(e=>{r.add(e)}),a(t)),!0),deleteProperty:(e,n)=>(delete e[n],i.has(n)&&i.get(n).forEach(e=>{r.add(e)}),a(t),!0),ownKeys:e=>Reflect.ownKeys(e).filter(e=>"__subscribers"!==e&&"__isReactive"!==e)});return c}function a(e){t||(t=!0,queueMicrotask(()=>{t=!1;const s=[...r];r.clear(),s.forEach(e=>{try{!function(e){n=e;try{e()}finally{n=null}}(e)}catch(e){console.error("[SenangStart] Effect error:",e)}}),e&&e()}))}const i={attributes:{},structurals:{},scopes:{}};function c(e){return i.structurals[e]}function u(e,t=null){if(1!==e.nodeType)return;if(e.hasAttribute("ss-ignore"))return;let r=t;const n=i.scopes;for(const[s,o]of Object.entries(n))if(e.hasAttribute(s)){const n=e.getAttribute(s);r=o(e,n,r,t)}if(r!==t&&r&&(e.__ssScope=r),!r)return void Array.from(e.children).forEach(e=>u(e,null));e.tagName;const s=Array.from(e.attributes);for(const t of s){const n=c(t.name);if(n)return void n(e,t.value,r,u)}const o=i.attributes;for(const t of Array.from(e.attributes)){const n=t.name,s=t.value;if(o[n]){o[n](e,s,r);continue}const a=n.indexOf(":");if(a>-1){const t=n.substring(0,a);o[t]&&o[t](e,n,s,r)}}Array.from(e.children).forEach(e=>u(e,r))}function f(){const e=new MutationObserver(e=>{for(const t of e)for(const e of t.addedNodes)if(1===e.nodeType){if(e.__ssScope)return;let t=e,r=null;for(;t.parentElement;)if(t=t.parentElement,t.__ssScope){r=t.__ssScope;break}u(e,r)}});return e.observe(document.body,{childList:!0,subtree:!0}),e}const d={},l={},_={data(e,t){return"function"!=typeof t?(console.error("[SenangStart] data() requires a factory function"),this):(d[e]=t,this)},store(e,t){return"object"!=typeof t?(console.error("[SenangStart] store() requires an object"),this):(l[e]=function(e,t){const r=new Map;let n;return n=Array.isArray(e)?s(e,t,r):o(e,t,r),n.__subscribers=r,n.__isReactive=!0,n}(t,()=>{}),this)},init(e=document.body){return u(e,null),this},start(){return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.init(),f()}):(this.init(),f()),this},version:"0.1.0"};var p,y;return p="ss-on",y=(e,t,r,n)=>{const s=t.replace("ss-on:","").split("."),o=s[0],a=s.slice(1),i=function(e,t,r){const{data:n,$refs:s,$store:o}=t,a={$data:n,$store:o,$el:r,$my:r,$refs:s,$dispatch:(e,t={})=>{r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}))},$watch:(e,t)=>{n.__subscribers&&(n.__subscribers.has(e)||n.__subscribers.set(e,new Set),n.__subscribers.get(e).add(()=>t(n[e])))},$nextTick:e=>{queueMicrotask(e)}},i=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(a);try{const t=new Function(...i,...c,`with(this) { ${e} }`);return function(){const e=i.map(e=>n[e]),r=c.map(e=>a[e]);return t.call(n,...e,...r)}}catch(t){return console.error(`[SenangStart] Failed to parse expression: ${e}`,t),()=>{}}}(r,n,e),c=t=>{if(a.includes("prevent")&&t.preventDefault(),a.includes("stop")&&t.stopPropagation(),!a.includes("self")||t.target===e){if(a.includes("once")&&e.removeEventListener(o,c),t instanceof KeyboardEvent){const e=t.key.toLowerCase(),r=["enter","escape","tab","space","up","down","left","right"];if(a.some(e=>r.includes(e))){const t={enter:"enter",escape:"escape",tab:"tab",space:" ",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};if(!a.some(r=>t[r]===e))return}}n.data.$event=t,i(),delete n.data.$event}};a.includes("window")?window.addEventListener(o,c):a.includes("document")?document.addEventListener(o,c):e.addEventListener(o,c)},i.attributes[p]=y,"undefined"!=typeof window&&(window.SenangStart=_),_.start(),_}();
