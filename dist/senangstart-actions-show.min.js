var SenangStart=function(){"use strict";const t=["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"];let e=!1;const s=new Set;let n=null;function r(e,i,c){return new Proxy(e,{get(e,l){!n||"length"!==l&&isNaN(parseInt(l))||(c.has("__array__")||c.set("__array__",new Set),c.get("__array__").add(n));const u=e[l];return t.includes(l)&&"function"==typeof u?function(...t){const n=Array.prototype[l].apply(e,t);return c.has("__array__")&&c.get("__array__").forEach(t=>{s.add(t)}),o(i),n}:u&&"object"==typeof u?Array.isArray(u)?r(u,i,c):a(u,i,c):u},set:(t,e,n)=>(t[e]===n||(t[e]=n,c.has("__array__")&&c.get("__array__").forEach(t=>{s.add(t)}),o(i)),!0)})}function a(t,e,i){const c=new Proxy(t,{get(t,s){if("__subscribers"===s||"__isReactive"===s)return t[s];n&&(i.has(s)||i.set(s,new Set),i.get(s).add(n));const o=t[s];if("function"==typeof o)return o.bind(c);if(o&&"object"==typeof o){if(Array.isArray(o))return r(o,e,i);if(!o.__isReactive)return a(o,e,i)}return o},set:(t,n,r)=>(t[n]===r||(t[n]=r,i.has(n)&&i.get(n).forEach(t=>{s.add(t)}),o(e)),!0),deleteProperty:(t,n)=>(delete t[n],i.has(n)&&i.get(n).forEach(t=>{s.add(t)}),o(e),!0),ownKeys:t=>Reflect.ownKeys(t).filter(t=>"__subscribers"!==t&&"__isReactive"!==t)});return c}function i(t){n=t;try{t()}finally{n=null}}function o(t){e||(e=!0,queueMicrotask(()=>{e=!1;const n=[...s];s.clear(),n.forEach(t=>{try{i(t)}catch(t){console.error("[SenangStart] Effect error:",t)}}),t&&t()}))}const c={attributes:{},structurals:{},scopes:{}};function l(t){return c.structurals[t]}function u(t,e=null){if(1!==t.nodeType)return;if(t.hasAttribute("ss-ignore"))return;let s=e;const n=c.scopes;for(const[r,a]of Object.entries(n))if(t.hasAttribute(r)){const n=t.getAttribute(r);s=a(t,n,s,e)}if(s!==e&&s&&(t.__ssScope=s),!s)return void Array.from(t.children).forEach(t=>u(t,null));t.tagName;const r=Array.from(t.attributes);for(const e of r){const n=l(e.name);if(n)return void n(t,e.value,s,u)}const a=c.attributes;for(const e of Array.from(t.attributes)){const n=e.name,r=e.value;if(a[n]){a[n](t,r,s);continue}const i=n.indexOf(":");if(i>-1){const e=n.substring(0,i);a[e]&&a[e](t,n,r,s)}}Array.from(t.children).forEach(t=>u(t,s))}function y(){const t=new MutationObserver(t=>{for(const e of t)for(const t of e.addedNodes)if(1===t.nodeType){if(t.__ssScope)return;let e=t,s=null;for(;e.parentElement;)if(e=e.parentElement,e.__ssScope){s=e.__ssScope;break}u(t,s)}});return t.observe(document.body,{childList:!0,subtree:!0}),t}const f={},d={},p={data(t,e){return"function"!=typeof e?(console.error("[SenangStart] data() requires a factory function"),this):(f[t]=e,this)},store(t,e){return"object"!=typeof e?(console.error("[SenangStart] store() requires an object"),this):(d[t]=function(t,e){const s=new Map;let n;return n=Array.isArray(t)?r(t,e,s):a(t,e,s),n.__subscribers=s,n.__isReactive=!0,n}(e,()=>{}),this)},init(t=document.body){return u(t,null),this},start(){return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.init(),y()}):(this.init(),y()),this},version:"0.1.0"};function _(t,e,s){const n=function(t){const e={enter:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1},leave:{duration:150,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",opacity:1,scale:1}};return Array.from(t.attributes).forEach(t=>{if(!t.name.startsWith("ss-transition"))return;const s=t.name.split("."),n=s[0];let r="both";if("ss-transition:enter"===n)r="enter";else if("ss-transition:leave"===n)r="leave";else if("ss-transition"!==n)return;const a=s.slice(1),i=t=>{const s=e[t];for(let t=0;t<a.length;t++){const e=a[t],n=a[t+1];"duration"===e&&n?(s.duration=parseInt(n.replace("ms","")),t++):"delay"===e&&n?(s.delay=parseInt(n.replace("ms","")),t++):"opacity"===e&&n?(s.opacity=parseInt(n)/100,t++):"scale"===e&&n?(s.scale=parseInt(n)/100,t++):"easing"===e&&n&&(s.easing=n,t++)}};"both"===r?(i("enter"),i("leave")):i(r)}),e}(t);if(e){t.style.display=s,t.style.transition="none";const{duration:e,delay:r,easing:a,opacity:i,scale:o}=n.enter,c=()=>{t.style.transitionProperty="opacity, transform",t.style.transitionDuration=`${e}ms`,t.style.transitionTimingFunction=a,t.style.transitionDelay=`${r}ms`};i<1&&(t.style.opacity=0),o<1&&(t.style.transform=`scale(${o})`),t.classList.add("ss-enter-from"),t.classList.add("ss-enter-active"),t.offsetHeight,requestAnimationFrame(()=>{c(),t.classList.remove("ss-enter-from"),t.classList.add("ss-enter-to"),i<1&&(t.style.opacity=1),o<1&&(t.style.transform="scale(1)")});const l=()=>{t.classList.remove("ss-enter-active","ss-enter-to"),t.style.transition="",t.style.transitionProperty="",t.style.transitionDuration="",t.style.transitionTimingFunction="",t.style.transitionDelay="",t.style.opacity="",t.style.transform="",t.removeEventListener("transitionend",l)};t.addEventListener("transitionend",l)}else{t.classList.add("ss-leave-from"),t.classList.add("ss-leave-active"),t.style.transition="none";const{duration:e,delay:s,easing:r,opacity:a,scale:i}=n.leave,o=()=>{t.style.transitionProperty="opacity, transform",t.style.transitionDuration=`${e}ms`,t.style.transitionTimingFunction=r,t.style.transitionDelay=`${s}ms`};t.offsetHeight,requestAnimationFrame(()=>{o(),t.classList.remove("ss-leave-from"),t.classList.add("ss-leave-to"),a<1&&(t.style.opacity=0),i<1&&(t.style.transform=`scale(${i})`)});const c=()=>{t.style.display="none",t.classList.remove("ss-leave-active","ss-leave-to"),t.style.transition="",t.style.transitionProperty="",t.style.opacity="",t.style.transform="",t.removeEventListener("transitionend",c)};t.addEventListener("transitionend",c)}}var m,b;return m="ss-show",b=(t,e,s)=>{const n=t.style.display||"";i(()=>{const r=function(t,e,s){const{data:n,$refs:r,$store:a}=e,i={$data:n,$store:a,$el:s,$my:s,$refs:r,$dispatch:(t,e={})=>{s.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}))},$watch:(t,e)=>{const s=()=>{const s=n[t];e(s)};n.__subscribers&&(n.__subscribers.has(t)||n.__subscribers.set(t,new Set),n.__subscribers.get(t).add(s))},$nextTick:t=>{queueMicrotask(t)},$id:(t,s)=>{if(e.$idRoots&&e.$idRoots[t])return`${t}-${e.$idRoots[t]}${s?`-${s}`:""}`}},o=Object.keys("object"==typeof n&&null!==n?n:{}),c=Object.keys(i);try{const e=new Function(...o,...c,`with(this) { return (${t}); }`);return function(){const t=o.map(t=>n[t]),s=c.map(t=>i[t]);return e.call(n,...t,...s)}}catch(e){return console.error(`[SenangStart] Failed to parse expression: ${t}`,e),()=>{}}}(e,s,t),a=!!r();Array.from(t.attributes).some(t=>t.name.startsWith("ss-transition"))?_(t,a,n):t.style.display=a?n:"none"})},c.attributes[m]=b,"undefined"!=typeof window&&(window.SenangStart=p),p.start(),p}();
